# 機能仕様書: [機能名]

> この仕様書は [アプリ名] の機能仕様を定義する。
> 実装はこの仕様書に**厳密に従う**こと。仕様に記載のない機能の実装は**禁止**。

---

## 1. 機能概要

<!-- この機能が何をするものか、1〜3行で簡潔に記述する -->

[アプリ名] は、[対象ユーザー] が [主要な操作] を行うための [アプリの種類] である。

---

## 2. 要件一覧

### Must（必須）

<!-- 今回必ず実装する要件を列挙する -->

- [ ] 要件1: [具体的な内容]
- [ ] 要件2: [具体的な内容]
- [ ] 要件3: [具体的な内容]

### Nice to have（任意）

<!-- 時間があれば実装する要件。Mustと明確に分離する -->

- [ ] 要件A: [具体的な内容]

---

## 3. データモデル

<!-- エンティティ、フィールド、型、制約を表形式で定義する -->

### [エンティティ名]

| フィールド | 型 | 制約 | 説明 |
|---|---|---|---|
| id | INTEGER | PK, AUTO_INCREMENT | 一意な識別子 |
| title | VARCHAR(100) | NOT NULL | タイトル |
| content | TEXT | — | 本文 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 作成日時 |
| updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 更新日時 |

---

## 4. API / エンドポイント

<!-- メソッド、パス、リクエスト/レスポンスを定義する -->

### 一覧取得

| 項目 | 内容 |
|---|---|
| メソッド | `GET` |
| パス | `/api/[リソース名]` |
| リクエスト | なし |
| レスポンス（成功） | `200 OK` + JSON配列 |
| レスポンス（エラー） | `500 Internal Server Error` |

**レスポンス例:**

```json
[
  {
    "id": 1,
    "title": "サンプル",
    "content": "本文テキスト",
    "createdAt": "2025-01-01T00:00:00",
    "updatedAt": "2025-01-01T00:00:00"
  }
]
```

### 新規作成

| 項目 | 内容 |
|---|---|
| メソッド | `POST` |
| パス | `/api/[リソース名]` |
| リクエスト | JSON（`title`, `content`） |
| レスポンス（成功） | `201 Created` + 作成されたリソース |
| レスポンス（エラー） | `400 Bad Request`（バリデーションエラー） |

**リクエスト例:**

```json
{
  "title": "サンプル",
  "content": "本文テキスト"
}
```

### 更新

| 項目 | 内容 |
|---|---|
| メソッド | `PUT` |
| パス | `/api/[リソース名]/{id}` |
| リクエスト | JSON（`title`, `content`） |
| レスポンス（成功） | `200 OK` + 更新されたリソース |
| レスポンス（エラー） | `404 Not Found`（対象なし） / `400 Bad Request`（バリデーションエラー） |

### 削除

| 項目 | 内容 |
|---|---|
| メソッド | `DELETE` |
| パス | `/api/[リソース名]/{id}` |
| リクエスト | なし |
| レスポンス（成功） | `204 No Content` |
| レスポンス（エラー） | `404 Not Found`（対象なし） |

---

## 5. UI / 画面仕様

<!-- 画面構成、操作フロー、表示ルールを定義する -->

### 画面一覧

| 画面名 | URL | 概要 |
|---|---|---|
| メイン画面 | `/` | [リソース名]の一覧表示・操作 |

### メイン画面の構成

```
+------------------------------------------+
| ヘッダー: アプリタイトル                    |
+------------------------------------------+
| [新規作成ボタン]                           |
+------------------------------------------+
| 一覧表示エリア                             |
|   +--------------------------------------+|
|   | タイトル            [編集] [削除]     ||
|   | 本文（省略表示）                      ||
|   | 作成日時                              ||
|   +--------------------------------------+|
|   | ...                                  ||
+------------------------------------------+
```

### 操作フロー

1. **新規作成**: 新規作成ボタン → 入力フォーム表示 → 入力 → 保存 → 一覧に追加
2. **編集**: 編集ボタン → 入力フォームに既存データ表示 → 編集 → 保存 → 一覧を更新
3. **削除**: 削除ボタン → 確認ダイアログ → 承認 → 一覧から削除

---

## 6. エラーハンドリング

<!-- エラー条件と、ユーザーに表示するメッセージを定義する -->

| エラー条件 | HTTPステータス | ユーザーへの表示 |
|---|---|---|
| タイトルが空 | 400 | 「タイトルを入力してください」 |
| タイトルが100文字超過 | 400 | 「タイトルは100文字以内で入力してください」 |
| 対象リソースが存在しない | 404 | 「指定されたデータが見つかりません」 |
| サーバー内部エラー | 500 | 「エラーが発生しました。しばらくしてから再度お試しください」 |

---

## 7. スコープ外

<!-- 今回やらないことを明記する。AIの推測実装を防ぐために重要 -->

以下は本仕様のスコープ外とし、**実装しない**:

- ユーザー認証・認可機能
- ページネーション
- 検索・フィルタ機能
- ファイル添付機能
- レスポンシブデザイン対応

---

## 8. 完了条件

<!-- 何をもって「この仕様の実装は完了」とするかを定義する -->

以下のすべてを満たした場合、本仕様の実装は完了とする:

- [ ] 「2. 要件一覧」のMust項目がすべてチェック済み
- [ ] 「4. API / エンドポイント」のすべてのエンドポイントが仕様通り動作する
- [ ] 「5. UI / 画面仕様」の操作フローがすべて正常に動作する
- [ ] 「6. エラーハンドリング」のすべてのケースで正しいメッセージが表示される
- [ ] 「7. スコープ外」の機能が実装されていない
- [ ] `docs/architecture.html` が最新の実装と一致している